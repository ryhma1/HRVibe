import"./main-DYt31Xt6.js";import"./jquery-5GtrIU7X.js";import"./dropotron-D-TxvmTG.js";import"./scrollex-COgQ0mxy.js";import"./browser-CdRLNVNo.js";import"./breakpoints-BGsUXCo6.js";import"./util-PiKbL46J.js";import"./main-UHvrBHL9.js";import"./logout-C_XaUAHZ.js";async function u(){const r=localStorage.getItem("token");if(!r)return alert("User token not found. Please log in again."),null;const t="http://127.0.0.1:3000/api/kubios/user-data",a={method:"GET",headers:{Authorization:"Bearer "+r}};try{return await(await fetch(t,a)).json()}catch(n){return console.error("Error:",n),alert("Failed to fetch user data. Error details can be found in the console."),null}}async function d(){const r=document.getElementById("userData"),t=await u();if(t&&t.results&&t.results.length>0){let a=t.results[0];for(let s=0;s<t.results.length;s++)t.results[s].create_timestamp>a.create_timestamp&&(a=t.results[s]);const{create_timestamp:n,result:o}=a,{mean_hr_bpm:i,pns_index:l,sns_index:c}=o;let e="<h2>User Data</h2><table>";e+=`<tr><th>Date</th><td>${JSON.stringify(n)}</td></tr>`,e+=`<tr><th>Mean Heart Rate (bpm)</th><td>${JSON.stringify(i)}</td></tr>`,e+=`<tr><th>PNS Index</th><td>${JSON.stringify(l)}</td></tr>`,e+=`<tr><th>SNS Index</th><td>${JSON.stringify(c)}</td></tr>`,e+="</table>",r.innerHTML=e}else r.innerHTML="<h2>No data available</h2>"}window.onload=async function(){await d()};
