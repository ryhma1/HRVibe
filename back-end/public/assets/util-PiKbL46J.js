(function(a){a.fn.navList=function(){var s=a(this);return $a=s.find("a"),b=[],$a.each(function(){var l=a(this),e=Math.max(0,l.parents("li").length-1),t=l.attr("href"),r=l.attr("target");b.push('<a class="link depth-'+e+'"'+(typeof r<"u"&&r!=""?' target="'+r+'"':"")+(typeof t<"u"&&t!=""?' href="'+t+'"':"")+'><span class="indent-'+e+'"></span>'+l.text()+"</a>")}),b.join("")},a.fn.panel=function(s){if(this.length==0)return e;if(this.length>1){for(var l=0;l<this.length;l++)a(this[l]).panel(s);return e}var e=a(this),t=a("body"),r=a(window),f=e.attr("id"),n;return n=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:e,visibleClass:"visible"},s),typeof n.target!="jQuery"&&(n.target=a(n.target)),e._hide=function(i){n.target.hasClass(n.visibleClass)&&(i&&(i.preventDefault(),i.stopPropagation()),n.target.removeClass(n.visibleClass),window.setTimeout(function(){n.resetScroll&&e.scrollTop(0),n.resetForms&&e.find("form").each(function(){this.reset()})},n.delay))},e.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),n.hideOnClick&&(e.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),e.on("click","a",function(i){var c=a(this),o=c.attr("href"),u=c.attr("target");!o||o=="#"||o==""||o=="#"+f||(i.preventDefault(),i.stopPropagation(),e._hide(),window.setTimeout(function(){u=="_blank"?window.open(o):window.location.href=o},n.delay+10))})),e.on("touchstart",function(i){e.touchPosX=i.originalEvent.touches[0].pageX,e.touchPosY=i.originalEvent.touches[0].pageY}),e.on("touchmove",function(i){if(!(e.touchPosX===null||e.touchPosY===null)){var c=e.touchPosX-i.originalEvent.touches[0].pageX,o=e.touchPosY-i.originalEvent.touches[0].pageY,u=e.outerHeight(),v=e.get(0).scrollHeight-e.scrollTop();if(n.hideOnSwipe){var p=!1,h=20,d=50;switch(n.side){case"left":p=o<h&&o>-1*h&&c>d;break;case"right":p=o<h&&o>-1*h&&c<-1*d;break;case"top":p=c<h&&c>-1*h&&o>d;break;case"bottom":p=c<h&&c>-1*h&&o<-1*d;break}if(p)return e.touchPosX=null,e.touchPosY=null,e._hide(),!1}(e.scrollTop()<0&&o<0||v>u-2&&v<u+2&&o>0)&&(i.preventDefault(),i.stopPropagation())}}),e.on("click touchend touchstart touchmove",function(i){i.stopPropagation()}),e.on("click",'a[href="#'+f+'"]',function(i){i.preventDefault(),i.stopPropagation(),n.target.removeClass(n.visibleClass)}),t.on("click touchend",function(i){e._hide(i)}),t.on("click",'a[href="#'+f+'"]',function(i){i.preventDefault(),i.stopPropagation(),n.target.toggleClass(n.visibleClass)}),n.hideOnEscape&&r.on("keydown",function(i){i.keyCode==27&&e._hide(i)}),e},a.fn.placeholder=function(){if(typeof document.createElement("input").placeholder<"u")return a(this);if(this.length==0)return l;if(this.length>1){for(var s=0;s<this.length;s++)a(this[s]).placeholder();return l}var l=a(this);return l.find("input[type=text],textarea").each(function(){var e=a(this);(e.val()==""||e.val()==e.attr("placeholder"))&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==""&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),l.find("input[type=password]").each(function(){var e=a(this),t=a(a("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));e.attr("id")!=""&&t.attr("id",e.attr("id")+"-polyfill-field"),e.attr("name")!=""&&t.attr("name",e.attr("name")+"-polyfill-field"),t.addClass("polyfill-placeholder").val(t.attr("placeholder")).insertAfter(e),e.val()==""?e.hide():t.hide(),e.on("blur",function(r){r.preventDefault();var f=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");e.val()==""&&(e.hide(),f.show())}),t.on("focus",function(r){r.preventDefault();var f=t.parent().find("input[name="+t.attr("name").replace("-polyfill-field","")+"]");t.hide(),f.show().focus()}).on("keypress",function(r){r.preventDefault(),t.val("")})}),l.on("submit",function(){l.find("input[type=text],input[type=password],textarea").each(function(e){var t=a(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(e){e.preventDefault(),l.find("select").val(a("option:first").val()),l.find("input,textarea").each(function(){var t=a(this),r;switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),r=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),t.val()==""?(t.hide(),r.show()):(t.show(),r.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),t.val()==""&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"));break}})}),l},a.prioritize=function(s,l){var e="__prioritize";typeof s!="jQuery"&&(s=a(s)),s.each(function(){var t=a(this),r,f=t.parent();if(f.length!=0)if(t.data(e)){if(l)return;r=t.data(e),t.insertAfter(r),t.removeData(e)}else{if(!l||(r=t.prev(),r.length==0))return;t.prependTo(f),t.data(e,r)}})}})(jQuery);
